---
layout: default
navtitle: Subs-Notify.php
title: ./Sources/Subs-Notify.php
count: 5
---

### getNotifyPrefs

```php
function getNotifyPrefs($members, $prefs = '', $process_default = false)
```
Fetches the list of preferences (or a single/subset of preferences) for
notifications for one or more users.



Type|Parameter|Description
---|---|---
`php int&#124;array`|`php $members`|A user id or an array of (integer) user ids to load preferences for
`php string&#124;array`|`php $prefs`|An empty string to load all preferences, or a string (or array) of preference name(s) to load
`php bool`|`php $process_default`|Whether to apply the default values to the members' values or not.

### setNotifyPrefs

```php
function setNotifyPrefs($memID, $prefs = array())
```
Sets the list of preferences for a single user.



Type|Parameter|Description
---|---|---
`php int`|`php $memID`|The user whose preferences you are setting
`php array`|`php $prefs`|An array key of pref -> value

### deleteNotifyPrefs

```php
function deleteNotifyPrefs($memID, array $prefs)
```
Deletes notification preference



Type|Parameter|Description
---|---|---
`php int`|`php $memID`|The user whose preference you're setting
`php array`|`php $prefs`|The preferences to delete

### getMemberWithToken

```php
function getMemberWithToken($type)
```
Verifies a member's unsubscribe token, then returns some member info



Type|Parameter|Description
---|---|---
`php string`|`php $type`|The type of notification the token is for (e.g. 'board', 'topic', etc.)

### createUnsubscribeToken

```php
function createUnsubscribeToken($memID, $email, $type = '', $itemID = 0)
```
Builds an unsubscribe token



Type|Parameter|Description
---|---|---
`php int`|`php $memID`|The id of the member that this token is for
`php string`|`php $email`|The member's email address
`php string`|`php $type`|The type of notification the token is for (e.g. 'board', 'topic', etc.)
`php int`|`php $itemID`|The id of the notification item, if applicable.

